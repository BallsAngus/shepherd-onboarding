<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
    <script src="{{url_for('static', filename='utils/cookies.js')}}"></script>
    <link
      rel="stylesheet"
      href="{{url_for('static', filename='bootstrap.min.css')}}"
    />
    <title>Game</title>
  </head>
  <body>
    <h1 id="title">BAAA play here</h1>
    <h4>Players are below:</h4>
    <a id="players"></a>
    <script>
      const socket = io();
      const name = getCookie("name");
      const id = getCookie("id");
      document.getElementById("title").textContent = `BAA play here ${getCookie(
        "name"
      )}. Your id: ${getCookie("id")}`;
      socket.emit(
        "join",
        JSON.stringify({
          name,
          id,
        })
      );
      socket.on("event", () => console.log("baa "));
      socket.on("players", (data) => {
        const { usernames } = JSON.parse(data);
        console.log("players are: ", usernames);
        document.getElementById("players").textContent = usernames.toString();
      });
    </script>
  </body>
</html>
